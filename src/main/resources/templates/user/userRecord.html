<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>유저 활동기록</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .main-content {
            padding: 100px;
        }

        footer {
            padding: 100px;
        }

        .table th, .table td {
            text-align: center;
            vertical-align: middle;
        }

        .table thead th {
            background-color: #f8f9fa;
        }

    </style>


</head>

<body>
<header>
    <nav th:replace="~{top_menu :: top_menu}"></nav>
</header>
<div class="main-content">
    <div class="container">
        <h1>유저 활동기록</h1>

        <!-- 여기부터 id표시되는 부분입니다! -->
        <div class="user-id"> ${vo.id} <!-- 아이디 출력 -->
        </div>
        <!-- 여기까지 id표시되는 부분입니다! -->


        <!-- 여기부터 와이어 프레임 기준 상단의 탭 버튼 구현한 부분입니다! -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="posts-tab" data-bs-toggle="tab" data-bs-target="#board"
                        type="button" role="tab" aria-controls="board" aria-selected="true">
                    게시글
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="comment-tab" data-bs-toggle="tab" data-bs-target="#comment" type="button"
                        role="tab" aria-controls="comment" aria-selected="false">
                    댓글
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="riding-tab" data-bs-toggle="tab" data-bs-target="#riding" type="button"
                        role="tab" aria-controls="riding" aria-selected="false">
                    라이딩 참여 목록
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="report-tab" data-bs-toggle="tab" data-bs-target="#report" type="button"
                        role="tab" aria-controls="report" aria-selected="false">
                    신고 내역
                </button>
            </li>
        </ul>
        <!-- 여기까지 와이어 프레임 기준 상단의 탭버튼 구현한 부분입니다! -->

        <!-- 여기부터 와이어프레임에 있던 테이블 부분입니다 -->
        <div class="tab-content">
            <!-- 여기부터 게시글 탭에 들어갈 게시글 테이블입니다 -->
            <div class="tab-pane fade show active" id="board" role="tabpanel" aria-labelledby="board-tab">
                <table class="table table-bordered table-striped table-hover mt-3" id="tab1">

                    <thead>
                    <tr>
                        <th>No.</th>
                        <th>크루번호</th>
                        <th>제목</th>
                        <th>작성일</th>
                        <th>공지글여부</th>
                    </tr>
                    </thead>
                    <tbody>
                    <th:block th:each="vo : ${vos}">
                        <tr>
                            <td>[[${vo.bnum}]]</td>
                            <td>[[${vo.cnum}]]</td>
                            <td>[[${vo.title}]]</td>
                            <td>[[${vo.wdate}]]</td>
                            <td>[[${vo.notice}]]</td>
                        </tr>
                    </th:block>
                    </tbody>
                    <tfoot>
                    <tr th:if="${param.searchKey == null}">
                        <td colspan="9">
                            <th:block th:each="i : ${#numbers.sequence(1,pageCount)}">
                                <a th:href="@{/crewboard/selectAll(cpage=${i},limit=10)}">[[${i}]]</a>
                            </th:block>

                        </td>
                    </tr>
                    <tr th:if="${param.searchKey != null}">
                        <td colspan="9">
                            <th:block th:each="i : ${#numbers.sequence(1,pageCount)}">
                                <a th:href="@{/crewboard/searchList(cpage=${i},limit=10,searchKey=${param.searchKey},searchWord=${param.searchWord})}">[[${i}]]</a>
                            </th:block>
                        </td>
                    </tr>
                    </tfoot>
                </table>
            </div>


    <!-- 여기부터 댓글 탭에 들어갈 댓글 테이블입니다 -->
    <div class="tab-pane fade" id="comment" role="tabpanel" aria-labelledby="comment-tab">
        <table class="table table-bordered table-striped table-hover mt-3" id="tab2">
            <thead>
            <tr>
                <th>글번호</th>
                <th>제목</th>
                <th>댓글</th>
                <th>작성일</th>


            </tr>
            </thead>
            <tbody>
            <th:block th:each="vo : ${vos}">
                <tr>
                    <td>[[${vo.bnum}]]</td>
                    <td>[[${vo.title}]]</td>
                    <td>[[${vo.content}]]</td>
                    <td>[[${vo.wdate}]]</td>
                </tr>
            </th:block>
            </tbody>
            <tfoot>
            <tr th:if="${param.searchKey == null}">
                <td colspan="9">
                    <th:block th:each="i : ${#numbers.sequence(1,pageCount)}">
                        <a th:href="@{/crew/selectAll(cpage=${i},limit=10)}">[[${i}]]</a>
                    </th:block>

                </td>
            </tr>
            <tr th:if="${param.searchKey != null}">
                <td colspan="9">
                    <th:block th:each="i : ${#numbers.sequence(1,pageCount)}">
                        <a th:href="@{/crew/searchList(cpage=${i},limit=10,searchKey=${param.searchKey},searchWord=${param.searchWord})}">[[${i}]]</a>
                    </th:block>
                </td>
            </tr>
            </tfoot>
        </table>
    </div>
        <!-- 여기부터 라이딩참여목록 탭에 들어갈 라이딩참여목록 테이블입니다 -->
        <div class="tab-pane fade" id="riding" role="tabpanel" aria-labelledby="riding-tab">
            <table class="table table-bordered table-striped table-hover mt-3" id="tab3">
                <thead>
                <tr>
                    <th>해당 라이딩</th>
                    <th>코스</th>
                    <th>활동일자</th>
                </tr>
                </thead>
                <tbody>
                <th:block th:each="vo : ${vos}">
                    <tr>
                        <td>[[${vo.title}]]</td>
                        <td>[[${vo.cos_num}]]</td>
                    </tr>
                </th:block>
                </tbody>
                <tfoot>
                <tr th:if="${param.searchKey == null}">
                    <td colspan="9">
                        <th:block th:each="i : ${#numbers.sequence(1,pageCount)}">
                            <a th:href="@{/crew/selectAll(cpage=${i},limit=10)}">[[${i}]]</a>
                        </th:block>

                    </td>
                </tr>
                <tr th:if="${param.searchKey != null}">
                    <td colspan="9">
                        <th:block th:each="i : ${#numbers.sequence(1,pageCount)}">
                            <a th:href="@{/crew/searchList(cpage=${i},limit=10,searchKey=${param.searchKey},searchWord=${param.searchWord})}">[[${i}]]</a>
                        </th:block>
                    </td>
                </tr>
                </tfoot>
            </table>
        </div>

        <!-- 여기부터 신고내역 탭에 들어갈 신고내역 테이블입니다 -->
        <div class="tab-pane fade" id="report" role="tabpanel" aria-labelledby="report-tab">
            <table class="table table-bordered table-striped table-hover mt-3" id="tab4">
              <thead>
              <tr>
                <th>번호</th>
                <th>신고대상</th>
                <th>신고사유</th>
                <th>항목</th>
                <th>처리상태</th>
                <th>신고날짜</th>
              </tr>
              </thead>
              <tbody>
              <th:block th:each="vo : ${vos}">
                <tr>
                  <td>[[${vo.num}]]</td>
                  <td th:text="${vo.target_nickname}"
                      th:classappend="${vo.target_nickname == session.nickname} ? 'font-weight-bold text-dark' : ''">
                  </td>
                  <td>[[${vo.detail}]]</td>
                  <td>[[${vo.reason}]]</td>
                  <td>[[${vo.state}]]</td>
                  <td>[[${vo.rdate}]]</td>
                </tr>
              </th:block>
              </tbody>
              <tfoot>
              <tr th:if="${param.searchKey == null}">
                <td colspan="11">
                  <th:block th:each="i : ${#numbers.sequence(1,pageCount)}">
                    <a th:href="@{/report/selectAll(cpage=${i},limit=10,nickname=${session.nickname})}">[[${i}]]</a>
                  </th:block>
                </td>
              </tr>
              </tfoot>
            </table>

        </div>

    </div>
        <!-- 여기까지 와이어프레임에 있던 테이블 부분입니다 -->

        <footer>
            <div th:replace="~{footer :: footer}"></div>
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>