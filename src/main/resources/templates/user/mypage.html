<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>마이페이지</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	>
	<style>
		body {
			background-color: #f5f5f5;
		}
		.mypage-card {
			max-width: 600px;
			margin: 100px auto;
			padding: 30px;
			border-radius: 10px;
			box-shadow: 0 4px 12px rgba(0,0,0,0.1);
			background-color: #ffffff;
		}
		.mypage-card h2 {
			margin-bottom: 30px;
			text-align: center;
		}
		.mypage-links {
			text-align: center;
			margin-top: 15px;
		}
		.mypage-links a {
			margin: 0 8px;
			color: #4dd0e1;
			text-decoration: none;
		}
		.mypage-links a:hover {
			text-decoration: underline;
		}

		.btn btn-outline-primary {
			outline-color: ;
		}

		.profile-preview {
			width: 150px;
			height: 150px;
			border: 2px dashed #4dd0e1;
			border-radius: 50%;
			background-color: #fff;
		}
	</style>

	<script>

		function previewImage() {
			const fileInput = document.getElementById('fileUpload');
			const profilePreview = document.querySelector('.profile-preview');
			const file = fileInput.files[0];

			if (file) {
				const reader = new FileReader();
				reader.onload = function (e) {
					profilePreview.style.display = 'block';  // 미리보기 영역을 보이도록 설정
					profilePreview.style.backgroundImage = 'url(' + e.target.result + ')';  // 미리보기 이미지 설정
				};
				reader.readAsDataURL(file);  // 파일을 Data URL로 읽어오기
			} else {
				profilePreview.style.display = 'none';  // 파일이 없으면 미리보기 숨기기
			}
		}

		</script>


		</head>
		<body th:replace="~{layout::layout}">

		<div th:fragment="content">
			<div class="mypage-card">
				<h2>마이페이지</h2>
				<form action="/mypage" method="post">
					<div class="text-center mb-4">
						<div class="profile-preview mx-auto mb-2"></div>
						<label for="fileUpload" class="btn btn-outline-info btn-sm">사진 업로드</label>
						<input type="file" id="fileUpload" name="file" style="display:none;" onchange="previewImage()"/>
					</div>

					<div class="list-group">
						<a href="user/update" class="list-group-item list-group-item-action">내 정보 관리</a>

						<a href="/coslike/selectAll?nickname=name05" class="list-group-item list-group-item-action ">찜한 코스</a>
						<a href="/user/ridingHistory" class="list-group-item list-group-item-action ">라이딩 HISTORY</a>
						<a href="/crewjoin/selectAll" class="list-group-item list-group-item-action ">내 크루</a>
						<a href="#" class="list-group-item list-group-item-action ">내가 쓴 글</a>
						<a href="#" class="list-group-item list-group-item-action ">내 채팅방</a>
						<a href="#" class="list-group-item list-group-item-action ">신청한 이벤트</a>
						<a href="#" class="list-group-item list-group-item-action ">신고/문의 내역 관리</a>
					</div>
			</div>

		</div>
		</div>

		</body>
		</html>
